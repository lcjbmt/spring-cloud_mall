��ϸ���裺
1������WebServer���࣬����һ��start���������г��򣬴���min������
      ��min�������а�WebServer���󴴽�������Ȼ���start��������������
2����WebServe�н�server���Դ����������ڹ��췽���н�serverʵ���������˿ڴ�������
3����start������Socket accept���������ȴ���������ӣ�Ϊ��ʹ����ͻ���������������ӣ����ǽ����ӷ���whileѭ��
4��Ϊ�����Ч�����ǽ���ȡ���������ŵ��߳�ClientHander��ȥ����
5����ClientHander�д���Socket���ԣ�Ȼ���ٹ��췽����ʵ��������
6����RUN�����д���ͻ��˷��͹��������󣬻�ȡ�����������������е����ݶ�����
7��Ϊ�˴��븴�ã����ǽ��ͻ��˷��͹���������ŵ�HttpRequest����ȥд
8: ��HttpRequest�������Ǵ����������ԣ������С���Ϣͷ����Ϣ���ġ��ڹ��췽���н���ʵ����
9�����������Ե�get������������
10����WebRequest��start�д���HttpRequest���󣬽���ȡ������������ȥ����HttpRequest�๹�췽���д�����������
11�����������У�����һ�������з���������������ȥ������һ��StringBuilder�Ķ���Ȼ��ȥ�������������������а��տո�
           ���в�֣�����ֳ����������ֱַ����õ���Ӧ��������
12����WebSERVER��run��������Ӧ�ͻ��ˡ���Ӧ�ͻ��˷�Ϊ��������ͷ��ˣ�������Ӧ״̬����Ӧͷ����Ӧ���ġ�
13�����Ȼ�ȡ�ļ���Ȼ���ж��ļ��Ƿ���ڣ�����ļ����ڣ����ȷ�����Ӧ״̬
14: �������������д״̬"HTTP/1.1 200 OK"������ת��Ϊ"ISO8859-1"��ʽ�ظ����ͻ���
15����η�����Ӧͷ����д��Ӧͷ"Content-Type:text/html"������ת��Ϊ"ISO8859-1"��ʽ�ظ����ͻ��ˣ����ҽ����ĳ���Ҳ�ظ����ͻ���
16���������Ӧ���ģ������ļ���ȥ��ȡfile�ļ���Ȼ����д����
17��Ϊ�˴���ĸ��ã����ǽ���Ӧ�ͻ��˵Ĵ���ŵ�HttpResponse����ȥִ��
18: ��HttpResponse�������Ǵ����������ԣ���ͻ�����Ӧ�ļ����������out������Ӧ���ͻ��˵��ļ���Դ"entity"��
         �������췽���������������������ڹ��췽���н���������ʵ������
19����entity��get����д����
20: ����Flush����ȥ��Ӧ�ͻ���
21�����������ࣺ״̬����Ϣ�ࡢ��Ӧͷ��Ϣ����Ӧ����
22��Ϊ�˼��ٴ��������ǽ������඼Ҫ�����·ŵ���һ����"println()"��ȥִ��
23����״̬��Ϣ�������ǵ���println������״̬�ָ���ȥ������Ӧͷ��Ϣ�е���println����Ӧͷ��Ϣ�ָ���ȥ��
        ����Ӧ�������������ļ�����ȡ�ļ���Դentity��Ȼ����д��
24: ��flush������ȥ��������������������WebServer��run�����д���HttpResponse����
25���½�һ��Context�������ڶ�����ص�HttpЭ�������
26������������������Ǵ���һ��mimeTypeMapping�����ԣ����ڳ䵱��Ӧ�Ľ�������ӳ���������̬����CR\LF.
27: ����һ��init������Ϊ��ʼ����������ӳ�䣬Ȼ�󴴽�һ����̬�飬�ھ�̬����ȥ����init�����������ǳ�������������
��̬��ͱ��Զ����ء�
28������initMimeTypeMapping������Ϊ��ʼ����������ӳ�䣬Ȼ����init����ȥ����initMimeTypeMapping����
29����initMimeTypeMapping����������Ǵ���һ��Map���ϣ����������4������"text/html"�ĺ�׺
30���Ķ�
	˼·��1�����ȵ��ͻ��˷������Ƿ����ʱ�ͻ����WebServer��ClintHander�࣬����֮��ͻ����RUN����
	2:����run�����󴴽�����������Response��Request��
	3����Response���󴴽������������и�����headers,�½���һ��Map���ϣ��ǿյġ�
	4��ͨ��uri�����½���file�ļ������������ж��ļ��Ƿ���ڣ�������ڣ���ʼ��Ӧ�ͻ���
	5����Ӧ��Ϊ����������״̬�У�������Ӧͷ��������Ӧ����
	   �٣�������Ӧͷ������content-Type��contentlength
	   	a��contentType�����Ȼ�ȡ�ļ���׺��Ȼ��ͨ���ļ���׺�ҵ�content-Type��ֵ��
	   	��ʱ���Ǿ�Ҫ����HttpContext.getContentTypeByMime(name)����
	   	ȥ��ȡ��Ȼ�����HttpContext����࣬���뵽�����󣬾�̬��Ϳ�ʼ���أ��Ϳ�ʼ��init������
	   	���뵽init�෽����ʼ��ContentTypeByMime��ķ�����ʼ������ӳ��
	   	���뵽ContentTypeByMime�࣬������Map�з���4��"html", "text/html"�������͵Ķ�����
	   	��ʱContentTypeByMime�ͳ�ʼ������
	   	Ȼ�����Żص�run��������ʱ����ͨ��HttpContextȥ��getContentTypeByMime���������᷵��һ��ֵ������
	   	���ǽ���������������ŰѸս�ȡ�������ļ���׺����ȥ�����ͻ��contentType��ֵ���ظ�����
	   	b:������ǻص�run��������ʼ����content-Type������ͨ��responseȥ����setContentType(contentType)����
	   	���ǽ��뵽setContentType�࣬���ǰ�contentType��ӵ�key�������ͨ����׺�õ���ֵ����value��
	   	Ȼ�������ֵ���contentlength()���������ǽ��뵽setContentType�࣬���ǰ�contentlength��ӵ�key��,
	   	���ǰ��û������ļ��ĳ�����ӵ�value�У�����䷵�ء�
	    c:Ȼ�����setEntity()����,Ȼ�����Ҫ������ļ����ý�ȥ
	   	d:����flush()������Ȼ�����Ӧͷ�е���Ϣ���͸��ͻ���
	   		�٣����ȣ�����sendStatusLine()�����뵽sendStatusLine�࣬���ǰ�״̬����ȥ
	   		�ڣ�Ȼ�����sendHeaders();���ǽ��뵽sendHeaders�࣬���ǵ��õ�Map��set������
	   		ͨ������headers��key��valueƴ����һ���ͳ�ȥ
	   		3��������sendContent()���������ģ������ļ��������ֽ�
	   		�������úõ���Ӧͷ���͸��ͻ���

32����HttpResponse�����޸ķ�����Ӧͷ�࣬�������ǵ���Map��set������Map���ϱ�����Ȼ�����ǽ�����������key��value
ƴ��һ�������ÿһ����Ϣͷ
33��������Ϣͷ
����Ķ���
���Ƿ����ڽ�����Ϣͷ�������е�ʱ�򶼻��õ����ж�ȡ�ַ������������ǽ����ᵽһ�������е���ȥ����
����һ��redLing����ȥ��ȡ�ַ���
34����HttpResponse�����������һ��headers�����Բ���Map���Ͻ����ʼ���������ǰ���������Ӧͷ��Ϣ
35������һ��parseHeaders����Ȼ������������
36�����������ʹ��whileѭ��ȥ���������������ж��Ƿ�����˿��ַ����������������ȥ�Ӳ��Ҷ������������Ƿ����":"
        ����������ǰ��ա�����������ߵ����ݽ�ȡ������ֵ��(key)name,���ұߵ����ݽ�ȡ������ֵ��value
        Ȼ�����Map���ϵ�Set�����ѽ�ȡ����������ͨ��������ӵ�Map�����С�
37 ����Uri
37 �����ᵽ�������浥��ȥ��
38 ���ȴ���һ��param�����Բ���ʼ��
39 �ڷ����������ж�uri���Ƿ������������������������ǽ�uri�����ݸ�ֵ��requestLine������
40 �����������һ�������ǽ�uri������ݴӿ�ʼ��ȡ������������Ȼ��ֵ��requestLine����
41 �ڶ��������ǽ�uri������ݴӡ�������һλ��ʼ��ȡ��ĩβ��Ȼ��ֵ���Լ������ı���queryStr
42 �����������ǽ�queryStr������ݰ��ա�&�����в�ֵõ�һ�����飬Ȼ����б���
43 ���Ĳ������ǽ�������������ٴΰ��ա�=�����в�֣�Ȼ��ӵ�map������
44 ���ע�Ṧ�ܣ�
45 �û��ٷ�������ʱ��һ������ҳ��Դ����������ĳЩ���ܣ��������Ǿ���ע��Ϊʵ��д
46 �������ǽ����ж��û�������������Դ���ǹ��ܣ��������Դ���ǰ����ϲ��践�ظ��ͻ�
47 ����ǹ��ܣ����������½�һ��ҳ�棬���û������ע����Ϣ���úã�Ȼ��ص�WebSerer��
48 Ȼ���ȡ�û������ע����Ϣ������һ���ļ������ڴ���û�ע�����Ϣ�����ļ����Ͻ���ת�����ͻ���������д��
49 �����finally�ｫת�����ر�
50 ����Ķ���
51 �޸�HttpContext�࣬����ʼ������ӳ��ķ����޸�
52 ����ĿĿ¼�����confĿ¼�������������web.xml�ļ������ļ�ֱ��ʹ��tomcat��Ŀ¼��
   confĿ¼�е�����ļ���
53 ����HttpContext�࣬����mimeTypeMapping�࣬���Ǵ���SAXReader�ֽ���ȥ���ļ����ٶ��Ĺ��������ļ���ȥ��conf�ļ��µ�web.xml�ĵ�
54 ����һ��Document��ʵ����Ȼ������ͨ�����ʵ��ȥ��ȡ��Ԫ�أ�����ǩ��������һ��Element��ʵ����ͨ��Element�ṩ�ķ�����ȡ������mime-mapping
55 ͬ�����ӱ�ǩ��������Ǳ��������ӱ�ǩ����web.xml�ļ���mime-mapping��ǩ�µ�extendinos��Ϊkeyֵ����mimeTypeMapping���ϣ���web.xml�ļ���mime-type
56 ��Ϊvalue����mimeTypeMapping������//////

